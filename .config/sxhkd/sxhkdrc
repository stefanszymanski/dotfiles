# # Prefixes
# super + w             -> window manager
# super + t             -> nodes
# super + d             -> desktops
# super + m             -> monitors
# super + s             -> misc
#
# # Reserved keys, that cannot be used as part of a prefix
#         {n, p, h, j, k, l, space}  -> focus
# ctrl  + ...                        -> move

#########
# bspwm #
#########

# bspwm general
###############

# reload bspwm
super + w ; r
    pkill -USR1 -x sxhkd

# restart bspwm
super + w ; shift + r
    bspc wm --restart


# bspwm nodes
#############

# focus/move node
super + {_,ctrl + } {h,j,k,l,n,p}
    bspc node --{focus,swap} {west,south,north,east,next.local,prev.local}

# focus last node
super + space
    bspc node --focus last

# close/kill node
super + t ; {c,x}
    bspwm-node-close {close,kill}

# set node state
super + t ; s ; {t,s,f}
    bspc node --state {tiled,floating,fullscreen}

# set node flags
super + t ; f ; {m,l,s,p}
    bspc node --flag {marked,locked,sticky,private}

# move node to desktop by number
super + t ; m ; {1-9,0}
    bspc node --to-desktop 'focused:^{1-9,10}'

# move node to next/previous monitor
super + t ; m ; {n,p}
    bspc node --to-monitor {next,prev} --follow

# move node to a new desktop
super + t ; m ; a
    bspwm-node-move-to-new-desktop

# preselect the direction
super + t ; p ; {h,j,k,l}
    bspc node --presel-dir {west,south,north,east}

# cancel the preselection for the focused node
super + Escape
    bspc node --presel-dir cancel

# TODO write script that combines expand and contract
#      make a prefix that starts a resizing mode, resizing than should not require a combination
# expand node by moving one of its side outward
super + alt + {h,j,k,l}
    bspc node --resize {left -20 0,bottom 0 20,top 0 -20,right 20 0}

# contract node by moving one of its side inward
super + alt + shift + {h,j,k,l}
    bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}


# bspwm desktops
################

# focus desktop by number
super + {1-9,0}
    bspc desktop --focus 'focused:^{1-9,10}'

# focus last/next/previous desktop
super + shift + {space,n,p}
    bspc desktop --focus {last,next.local,prev.local}

# add/rename/remove desktops
super + d ; {a,e,c}
    bspwm-desktop-{add,rename,remove}

# set layout
super + d ; s ; {m,t,l}
    bspc desktop --layout {monocle,tiled,next}


# bspwm monitors
################

# focus next/previous monitor
super + m ; {n,p}
    bspc monitor --focus {next,previous}


################
# applications #
################

super + Return
    st

super + ctrl + Return
    st -e tmux


##############
# rofi menus #
##############

super + period
    rofi -show drun

super + minus
    rofi -show window

super + comma
    sessionmenu


########
# misc #
########

# volume
########

{_,ctrl +} XF86Audio{Raise,Lower}Volume
    vol {Master,Mic} {inc,dec} 5

{_,ctrl +} XF86AudioMute
    vol {Master,Mic} toggle


# other
#######

# copy between clipboard and primary buffer
super + s ; c ; {c,p}
    {p2cb,cb2p} notify

# lock screen
super + s ; l
    xautolock -locknow

# sync mail
super + s ; m
    PINENTRY_USER_DATA=gtk syncmail -n all
